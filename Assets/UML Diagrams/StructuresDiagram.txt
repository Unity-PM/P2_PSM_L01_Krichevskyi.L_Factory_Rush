@startuml
!theme mars
' protected # may also be private with getter

'Structure
interface IStrCanBuild {
  <<MonoBehaviour>>
  + void Build()
  + void CheckPlace()
  --
}
interface IStrCanMove {
  <<MonoBehaviour>>
  + void Move()
  --
}
interface IStrCanRemove {
  <<MonoBehaviour>>
  + void Remove()
  --
}
interface IStrCanShoot {
  <<MonoBehaviour>>
  + Enemy enemy
  + void WatchEnemy()
  + void ShootEnemy()
  --
}
interface IStrCanTake {
  <<MonoBehaviour>>
  + void TakeItem();
  --
}
interface IStrFindSameNeighbour {
  <<MonoBehaviour>>
  + void FindSameNeighbour(out List<T> neighbourList)
  --
}
interface IStrCanProduce {
  <<MonoBehaviour>>
  + void ProduceItem()
  --
}
interface IStrCanTransport {
  <<MonoBehaviour>>
  + void TransportItem()
  --
}
interface IStrConsumeElectricity {
  <<MonoBehaviour>>
  + void ConsumeElectricity()
  --
}

'Enemy
interface IEnCanMove {
  <<MonoBehaviour>>
  + void Move()
  + void ChoosePlaceToMove()
  --
}
interface IEnCanAttack {
  <<MonoBehaviour>>
  + void AttackStructure()
  --
}


class Structure <<MonoBehaviour>> {
  <<MonoBehaviour>>
  # int currHp
  # int direction
  # Vector2Int position
}
Structure ..|> IStrCanRemove

class Obstacle {
  <<ScriptableObject>>
  - int maxHp
  - Vector2Int sizeInCells
}
Structure <|-- Obstacle

class InteractiveObject
Structure <|-- InteractiveObject
InteractiveObject ..|> IStrCanBuild
InteractiveObject ..|> IStrCanMove

class Wall {
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2Int sizeInCells
}
InteractiveObject <|-- Wall
Wall ..|> IStrFindSameNeighbour

'Transport Structures
class Belt {
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2Int sizeInCells
  - float transportSpeed
}
InteractiveObject <|-- Belt
Belt ..|> IStrFindSameNeighbour
Belt ..|> IStrCanTransport

class Spliter {
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2Int sizeInCells
  - float transportSpeed
}
InteractiveObject <|-- Spliter
Spliter ..|> IStrFindSameNeighbour
Spliter ..|> IStrCanTransport

class Insester {
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2Int sizeInCells
  - float transportSpeed
}
InteractiveObject <|-- Insester
Insester ..|> IStrFindSameNeighbour
Insester ..|> IStrCanTransport

class ElectricPole {
  <<MonoBehaviour>>
  - void GiveElectricity()
  - void ConnectToStructures()
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2Int sizeInCells
  - Vector2Int coverageArea
}
InteractiveObject <|-- ElectricPole
ElectricPole ..|> IStrFindSameNeighbour

class Turret {
  <<MonoBehaviour>>
  - Enemy enemy
  --
  <<ScriptableObject>>
  - int maxHp
  - float damageScale
  - int consumeElectricityAmount
  - Vector2Int sizeInCells
  - List<Item> inputItemList
}
InteractiveObject <|-- Turret
Turret ..|> IStrCanShoot
Turret ..|> IStrCanTake
Turret ..|> IStrConsumeElectricity

class Factory {
  <<MonoBehaviour>>
  - int productCurrSpeed
  --
  <<ScriptableObject>>
  - int maxHp
  - int consumeElectricityAmount
  - Vector2Int sizeInCells
  - List<Item> inputItemList
}
InteractiveObject <|-- Factory
Factory ..|> IStrCanProduce
Factory ..|> IStrCanTake
Factory ..|> IStrConsumeElectricity

class Item <<ScriptableObject>> {
  # string title
  # Sprite icon
}

class Recipe <<ScriptableObject>> {
  # List<ItemData> inputItems
  # List<int> inputCounts
  # List<ItemData> outputItems
  # List<int> outputCounts
  # string title
  # float productionTime
  # float electricityCost
}

class Grid <<MonoBehaviour>> {
  <<MonoBehaviour>>
  - int[,] gridArray
  - TextMesh[,] debugTextArray
  --
  <<ScriptableObject>>
  - int width
  - int height
  - float cellSize
  - Vector3 originPosition
}

class Enemy <<MonoBehaviour>> {
  <<MonoBehaviour>>
  - int currHp
  --
  <<ScriptableObject>>
  - string title
  - int maxHp
  - float moveSpeed
  - float attackSpeed
}
Enemy ..|> IEnCanMove
Enemy ..|> IEnCanAttack

@enduml
