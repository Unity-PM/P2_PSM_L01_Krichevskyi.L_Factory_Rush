@startuml
!theme mars
' protected # may also be private with getter

interface ICanBuild {
  <<MonoBehaviour>>
  + void Build()
  --
}
interface ICanMove {
  <<MonoBehaviour>>
  + void Move()
  + void CheckPlace()
  --
}
interface ICanRemove {
  <<MonoBehaviour>>
  + void Remove()
  --
}
interface ICanShoot {
  <<MonoBehaviour>>
  + Enemy enemy
  + void watchEnemy()
  + void shootEnemy()
  --
}
interface ICanTake {
  <<MonoBehaviour>>
  + void TakeItem();
  --
  <<ScriptableObject>>
  + int takeItemMaxSpeed
  + List<Item> inputItemList
}
interface IFindSameNeighbour {
  <<MonoBehaviour>>
  + void FindNeighbour(out List<T> neighbourList)
  --
}
interface IFindDiffNeighbour {
  <<MonoBehaviour>>
  + void FindDiffNeighbour(out List<T> neighbourList)
  --
}
interface ICanProduce {
  <<MonoBehaviour>>
  + void ProduceObject()
  --
  <<ScriptableObject>>
  + void List<Recipe> recipeList
}
interface ICanTransport {
  <<MonoBehaviour>>
  + void TransportItem()
  --
  <<ScriptableObject>>
  + float transportSpeed
}


class Structure <<MonoBehaviour>> {
  <<MonoBehaviour>>
  # int currHp
  # int direction
  # Vector2 position
}
Structure ..|> ICanRemove

class InteractiveObject
Structure <|-- InteractiveObject
InteractiveObject ..|> ICanBuild
InteractiveObject ..|> ICanMove

class Obstacle {
  <<ScriptableObject>>
  - int maxHp
  - Vector2 space
}
Structure <|-- Obstacle

class Wall {
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2 space
}
InteractiveObject <|-- Wall
Wall ..|> IFindSameNeighbour


'Transport Structures
class Belt {
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2 space
}
InteractiveObject <|-- Belt
Belt ..|> IFindSameNeighbour
Belt ..|> ICanTransport
class Spliter {
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2 space
}
InteractiveObject <|-- Spliter
Spliter ..|> IFindSameNeighbour
Spliter ..|> ICanTransport
class Insester {
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2 space
}
InteractiveObject <|-- Insester
Insester ..|> IFindSameNeighbour
Insester ..|> ICanTransport

class ElectricPole {
  <<MonoBehaviour>>
  - void GiveElectricity()
  - void FindAnotherPole()
  - void FindObjectsToGive()
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2 space
  - vec2d actionArea
}

InteractiveObject <|-- ElectricPole
ElectricPole ..|> IFindSameNeighbour

class Turret {
  <<MonoBehaviour>>
  - Enemy enemy
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2 space
}
InteractiveObject <|-- Turret
Turret ..|> ICanShoot
Turret ..|> ICanTake
Turret ..|> IFindDiffNeighbour

'class Furnace
'class Assembler

class Factory {
  <<MonoBehaviour>>
  - int productCurrSpeed
  --
  <<ScriptableObject>>
  - int maxHp
  - Vector2 space
  - int productMaxSpeed
}
InteractiveObject <|-- Factory
Factory ..|> ICanProduce
Factory ..|> ICanTake
Factory ..|> IFindDiffNeighbour

class Item <<ScriptableObject>> {
  # string name
  # Sprite icon
}

class Recipe <<ScriptableObject>> {
  # void List<ItemData> inputItems
  # void List<int> inputCounts
  # void List<ItemData> outputItems
  # void List<int> outputCounts
  # void float productionTime
  # void float energyCost
}

class Grid <<MonoBehaviour>> {
  <<MonoBehaviour>>
  - int[,] gridArray
  - TextMesh[,] debugTextArray
  --
  <<ScriptableObject>>
  - int width
  - int height
  - float cellSize
  - Vector3 originPosition
}

@enduml